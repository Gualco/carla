// Copyright (c) 2017 Computer Vision Center (CVC) at the Universitat Autonoma
// de Barcelona (UAB).
//
// This work is licensed under the terms of the MIT license.
// For a copy, see <https://opensource.org/licenses/MIT>.

#pragma once

#include <cstdint>

namespace carla {
namespace image {
namespace detail {

    static constexpr
#if __cplusplus >= 201703L // C++17
    inline
#endif
    // Please update documentation if you change this.
    uint8_t CITYSCAPES_PALETTE_MAP[256u][3u] = {
        {  0u,   0u,   0u}, // unlabeled     =   0u,
        { 70u,  70u,  70u}, // building      =   1u,
        {100u,  40u,  40u}, // fence         =   2u,
        { 55u,  90u,  80u}, // other         =   3u,
        {220u,  20u,  60u}, // pedestrian    =   4u,
        {153u, 153u, 153u}, // pole          =   5u,
        {157u, 234u,  50u}, // road line     =   6u,
        {128u,  64u, 128u}, // road          =   7u,
        {244u,  35u, 232u}, // sidewalk      =   8u,
        {107u, 142u,  35u}, // vegetation    =   9u,
        {  0u,   0u, 142u}, // vehicle       =  10u,
        {102u, 102u, 156u}, // wall          =  11u,
        {220u, 220u,   1u}, // traffic sign  =  12u,
        { 70u, 130u, 180u}, // sky           =  13u,
        { 81u,   0u,  81u}, // ground        =  14u,
        {150u, 100u, 100u}, // bridge        =  15u,
        {230u, 150u, 140u}, // rail track    =  16u,
        {180u, 165u, 181u}, // guard rail    =  17u,
        {250u, 170u,  30u}, // traffic light =  18u,
        {110u, 190u, 160u}, // static        =  19u,
        {170u, 120u,  51u}, // dynamic       =  20u,
        { 45u,  60u, 150u}, // water         =  21u,
        {145u, 170u, 101u}, // terrain       =  22u,
        // {  0u,   0u,  70u}, // truck
        // {  0u,   0u,  90u}, // caravan
        // {  0u,   0u, 110u}, // trailer
        // {  0u,   0u, 142u}, // license plate
        // {  0u,   0u, 230u}, // motorcycle
        // {  0u,  60u, 100u}, // bus
        // {  0u,  80u, 100u}, // train
        // {119u,  11u,  32u}, // bicycle
        // {150u, 120u,  90u}, // tunnel
        // {153u, 153u, 153u}, // polegroup
        // {250u, 170u, 160u}, // parking
        // {255u,   0u,   0u}, // rider
        { 23u,  23u, 142u},
        { 24u,  24u, 142u},
        { 25u,  25u, 142u},
        { 26u,  26u, 142u},
        { 27u,  27u, 142u},
        { 28u,  28u, 142u},
        { 29u,  29u, 142u},
        { 30u,  30u, 142u},
        { 31u,  31u, 142u},
        { 32u,  32u, 142u},
        { 33u,  33u, 142u},
        { 34u,  34u, 142u},
        { 35u,  35u, 142u},
        { 36u,  36u, 142u},
        { 37u,  37u, 142u},
        { 38u,  38u, 142u},
        { 39u,  39u, 142u},
        { 40u,  40u, 142u},
        { 41u,  41u, 142u},
        { 42u,  42u, 142u},
        { 43u,  43u, 142u},
        { 44u,  44u, 142u},
        { 45u,  45u, 142u},
        { 46u,  46u, 142u},
        { 47u,  47u, 142u},
        { 48u,  48u, 142u},
        { 49u,  49u, 142u},
        { 50u,  50u, 142u},
        { 51u,  51u, 142u},
        { 52u,  52u, 142u},
        { 53u,  53u, 142u},
        { 54u,  54u, 142u},
        { 55u,  55u, 142u},
        { 56u,  56u, 142u},
        { 57u,  57u, 142u},
        { 58u,  58u, 142u},
        { 59u,  59u, 142u},
        { 60u,  60u, 142u},
        { 61u,  61u, 142u},
        { 62u,  62u, 142u},
        { 63u,  63u, 142u},
        { 64u,  64u, 142u},
        { 65u,  65u, 142u},
        { 66u,  66u, 142u},
        { 67u,  67u, 142u},
        { 68u,  68u, 142u},
        { 69u,  69u, 142u},
        { 70u,  70u, 142u},
        { 71u,  71u, 142u},
        { 72u,  72u, 142u},
        { 73u,  73u, 142u},
        { 74u,  74u, 142u},
        { 75u,  75u, 142u},
        { 76u,  76u, 142u},
        { 77u,  77u, 142u},
        { 78u,  78u, 142u},
        { 79u,  79u, 142u},
        { 80u,  80u, 142u},
        { 81u,  81u, 142u},
        { 82u,  82u, 142u},
        { 83u,  83u, 142u},
        { 84u,  84u, 142u},
        { 85u,  85u, 142u},
        { 86u,  86u, 142u},
        { 87u,  87u, 142u},
        { 88u,  88u, 142u},
        { 89u,  89u, 142u},
        { 90u,  90u, 142u},
        { 91u,  91u, 142u},
        { 92u,  92u, 142u},
        { 93u,  93u, 142u},
        { 94u,  94u, 142u},
        { 95u,  95u, 142u},
        { 96u,  96u, 142u},
        { 97u,  97u, 142u},
        { 98u,  98u, 142u},
        { 99u,  99u, 142u},
        {100u, 100u, 142u},
        {101u, 101u, 142u},
        {102u, 102u, 142u},
        {103u, 103u, 142u},
        {104u, 104u, 142u},
        {105u, 105u, 142u},
        {106u, 106u, 142u},
        {107u, 107u, 142u},
        {108u, 108u, 142u},
        {109u, 109u, 142u},
        {110u, 110u, 142u},
        {111u, 111u, 142u},
        {112u, 112u, 142u},
        {113u, 113u, 142u},
        {114u, 114u, 142u},
        {115u, 115u, 142u},
        {116u, 116u, 142u},
        {117u, 117u, 142u},
        {118u, 118u, 142u},
        {119u, 119u, 142u},
        {120u, 120u, 142u},
        {121u, 121u, 142u},
        {122u, 122u, 142u},
        {123u, 123u, 142u},
        {124u, 124u, 142u},
        {125u, 125u, 142u},
        {126u, 126u, 142u},
        {127u, 127u, 142u},
        {128u, 128u, 142u},
        {129u, 129u, 142u},
        {130u, 130u, 142u},
        {131u, 131u, 142u},
        {132u, 132u, 142u},
        {133u, 133u, 142u},
        {134u, 134u, 142u},
        {135u, 135u, 142u},
        {136u, 136u, 142u},
        {137u, 137u, 142u},
        {138u, 138u, 142u},
        {139u, 139u, 142u},
        {140u, 140u, 142u},
        {141u, 141u, 142u},
        {142u, 142u, 142u},
        {143u, 143u, 142u},
        {144u, 144u, 142u},
        {145u, 145u, 142u},
        {146u, 146u, 142u},
        {147u, 147u, 142u},
        {148u, 148u, 142u},
        {149u, 149u, 142u},
        {150u, 150u, 142u},
        {151u, 151u, 142u},
        {152u, 152u, 142u},
        {153u, 153u, 142u},
        {154u, 154u, 142u},
        {155u, 155u, 142u},
        {156u, 156u, 142u},
        {157u, 157u, 142u},
        {158u, 158u, 142u},
        {159u, 159u, 142u},
        {160u, 160u, 142u},
        {161u, 161u, 142u},
        {162u, 162u, 142u},
        {163u, 163u, 142u},
        {164u, 164u, 142u},
        {165u, 165u, 142u},
        {166u, 166u, 142u},
        {167u, 167u, 142u},
        {168u, 168u, 142u},
        {169u, 169u, 142u},
        {170u, 170u, 142u},
        {171u, 171u, 142u},
        {172u, 172u, 142u},
        {173u, 173u, 142u},
        {174u, 174u, 142u},
        {175u, 175u, 142u},
        {176u, 176u, 142u},
        {177u, 177u, 142u},
        {178u, 178u, 142u},
        {179u, 179u, 142u},
        {180u, 180u, 142u},
        {181u, 181u, 142u},
        {182u, 182u, 142u},
        {183u, 183u, 142u},
        {184u, 184u, 142u},
        {185u, 185u, 142u},
        {186u, 186u, 142u},
        {187u, 187u, 142u},
        {188u, 188u, 142u},
        {189u, 189u, 142u},
        {190u, 190u, 142u},
        {191u, 191u, 142u},
        {192u, 192u, 142u},
        {193u, 193u, 142u},
        {194u, 194u, 142u},
        {195u, 195u, 142u},
        {196u, 196u, 142u},
        {197u, 197u, 142u},
        {198u, 198u, 142u},
        {199u, 199u, 142u},
        {200u, 200u, 142u},
        {201u, 201u, 142u},
        {202u, 202u, 142u},
        {203u, 203u, 142u},
        {204u, 204u, 142u},
        {205u, 205u, 142u},
        {206u, 206u, 142u},
        {207u, 207u, 142u},
        {208u, 208u, 142u},
        {209u, 209u, 142u},
        {210u, 210u, 142u},
        {211u, 211u, 142u},
        {212u, 212u, 142u},
        {213u, 213u, 142u},
        {214u, 214u, 142u},
        {215u, 215u, 142u},
        {216u, 216u, 142u},
        {217u, 217u, 142u},
        {218u, 218u, 142u},
        {219u, 219u, 142u},
        {220u, 220u, 142u},
        {221u, 221u, 142u},
        {222u, 222u, 142u},
        {223u, 223u, 142u},
        {224u, 224u, 142u},
        {225u, 225u, 142u},
        {226u, 226u, 142u},
        {227u, 227u, 142u},
        {228u, 228u, 142u},
        {229u, 229u, 142u},
        {230u, 230u, 142u},
        {231u, 231u, 142u},
        {232u, 232u, 142u},
        {233u, 233u, 142u},
        {234u, 234u, 142u},
        {235u, 235u, 142u},
        {236u, 236u, 142u},
        {237u, 237u, 142u},
        {238u, 238u, 142u},
        {239u, 239u, 142u},
        {240u, 240u, 142u},
        {241u, 241u, 142u},
        {242u, 242u, 142u},
        {243u, 243u, 142u},
        {244u, 244u, 142u},
        {245u, 245u, 142u},
        {246u, 246u, 142u},
        {247u, 247u, 142u},
        {248u, 248u, 142u},
        {249u, 249u, 142u},
        {250u, 250u, 142u},
        {251u, 251u, 142u},
        {252u, 252u, 142u},
        {253u, 253u, 142u},
        {254u, 254u, 142u},
        {255u, 255u, 142u},
    };

} // namespace detail

  class CityScapesPalette {
  public:

    static constexpr auto GetNumberOfTags() {
      return sizeof(detail::CITYSCAPES_PALETTE_MAP) /
          sizeof(*detail::CITYSCAPES_PALETTE_MAP);
    }

    /// Return an RGB uint8_t array.
    ///
    /// @warning It overflows if @a tag is greater than GetNumberOfTags().
    static constexpr auto GetColor(uint8_t tag) {
        return detail::CITYSCAPES_PALETTE_MAP[tag % GetNumberOfTags()];
    }
  };
} // namespace image
} // namespace carla
